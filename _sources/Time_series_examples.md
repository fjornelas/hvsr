{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "7e360450",
   "metadata": {},
   "source": [
    "# tsproctools\n",
    "\n",
    "A tool containing multiple functions which perform time series processing.\n",
    "\n",
    "## detrend_ts\n",
    "\n",
    "A function which applies detrending to time series\n",
    "\n",
    "`detrend_ts(ts, **kwargs)`\n",
    "\n",
    "Detrends a time series based on the specified method.\n",
    "\n",
    "`Parameters`\n",
    "\n",
    "**ts** (ndarray) - The input time series.\n",
    "\n",
    "`kwargs`:\n",
    "\n",
    "**detrend_type** (int):\n",
    "- 0: No detrending.\n",
    "- 1: Weighted mean detrending. (default)\n",
    "- 2: Linear detrending.\n",
    "- 6: 5th degree polynomial detrending.\n",
    "\n",
    "**t_front** (int) - Percentage of data to be tapered at the beginning for Tukey window. Default is 5.\n",
    "\n",
    "**t_end** (int) - Percentage of data to be tapered at the end for Tukey window. Default is 5.\n",
    "\n",
    "`returns:`\n",
    "\n",
    "Array of detrended time series.\n",
    "\n",
    "## tukey_window\n",
    "\n",
    "Applies Tukey window to the given time series.\n",
    "\n",
    "`tukey_window(ts, **kwargs)`\n",
    "\n",
    "`Parameters:`\n",
    "\n",
    "**ts** (ndarray) - The input time series.\n",
    "\n",
    "`kwargs`:\n",
    "\n",
    "**t_front** (int) -Percentage of data to be tapered at the beginning for Tukey window. Default is 5.\n",
    "\n",
    "**t_end** (int) - Percentage of data to be tapered at the end for Tukey window. Default is 5.\n",
    "\n",
    "**sym** (boolean) - generates a symmetric window.\n",
    "\n",
    "`returns:`\n",
    "\n",
    "An array of the tapered time series.\n",
    "\n",
    "## apply_filter\n",
    "\n",
    "Calculate filter based on given parameters.\n",
    "\n",
    "`apply_filter(ts, **kwargs)`\n",
    "\n",
    "`Parameters:`\n",
    "\n",
    "**ts** (ndarray) - An array representing the time series data.\n",
    "\n",
    "`kwargs:`\n",
    "\n",
    "**ts_dt** (float) - Time step of ts\n",
    "\n",
    "**fc** (float) - The filtering frequency to be applied.\n",
    "\n",
    "**npole** (int) - A value specifying low pass or high pass, a value less than 0 applies to a high pass filter, default = -5.\n",
    "\n",
    "**is_causal** (boolean) - Indicates whether to apply a causal or acausal filter to the time series.\n",
    "\n",
    "**order_zero_padding** (int) - Indicates what order of zero padding to be applied.\n",
    "\n",
    "`returns`\n",
    "\n",
    "**ts** (ndarray) - Time series data after applying the filter.\n",
    "\n",
    "**res**  (dict) - A dictionary of results from computing the fft of the time series, containing:\n",
    "\n",
    "- flt_ts: filtered time series\n",
    "- flt_amp: amplitude of filtered FAS\n",
    "- flt_resp: filter response\n",
    "- flt_fft: filtered fft containing imaginary values\n",
    "\n",
    "## apply_normalization\n",
    "\n",
    "A function to normalize time series.\n",
    "\n",
    "`apply_normalization(ts)`\n",
    "\n",
    "`Parameters:`\n",
    "  \n",
    "**ts** (ndarray) - Time series array.\n",
    "\n",
    "`returns:` \n",
    "\n",
    "normalized time series.\n",
    "\n",
    "## sta_lta_calc\n",
    "\n",
    "Function that computes the sta/lta ratio.\n",
    "\n",
    "`sta_lta_calc(ts, **kwargs)`\n",
    "\n",
    "`Parameters:`\n",
    "\n",
    "**ts** (ndarray) - Time series array of microtremor/earthquake amplitudes\n",
    "\n",
    "`kwargs:`\n",
    "\n",
    "**short_term** (int) - Short term average length\n",
    "\n",
    "**long_term** (int) - Long term average length\n",
    "\n",
    "**moving_term** (int) - Moving term of the sta/lta length\n",
    "\n",
    "`returns:` \n",
    "\n",
    "The ratio of the sta and lta\n",
    "\n",
    "## split_into_windows\n",
    "\n",
    "Function to split time series into individual discrete windows.\n",
    "\n",
    "`split_into_windows(ts, dt, win_width, overlapping)`\n",
    "\n",
    "`Parameters:`\n",
    "\n",
    "**ts** (ndarray) - Array of time series data.\n",
    "\n",
    "**dt** (float) - Time step of time series.\n",
    "\n",
    "**win_width** (int) - Length of each individual window.\n",
    "\n",
    "**overlapping** (int) - Length of overlapping between each window.\n",
    "\n",
    "`returns:` \n",
    "\n",
    "A windowed time series\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "cf18280c",
   "metadata": {},
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.10.9"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}

