Search.setIndex({"docnames": ["README", "Time_series_examples", "docs/test", "example/hvsrprocpy_example", "freq_tools", "hvhelp", "hvplt", "hvt"], "filenames": ["README.md", "Time_series_examples.md", "docs/test.md", "example/hvsrprocpy_example.ipynb", "freq_tools.md", "hvhelp.md", "hvplt.md", "hvt.md"], "titles": ["Introduction", "tdt (Time Domain Processing Tools)", "&lt;no title&gt;", "&lt;no title&gt;", "<em>fdt</em> (Frequency Domain Tools)", "<em>hvhelp</em> (HVSR Helper Tools)", "<em>hvplt</em> (HVSR Plotting Tools)", "<em>hvt</em> (HVSR Processing Tools)"], "terms": {"hvsrprocpi": [0, 3], "A": [0, 1, 4, 7], "python": 0, "librari": 0, "perform": [0, 1, 4, 7], "horizont": [0, 4, 7], "vertic": [0, 3, 4, 7], "spectral": [0, 4, 7], "ratio": [0, 1, 4, 6, 7], "process": [0, 3, 4, 5, 6], "author": 0, "francisco": [0, 3], "javier": [0, 3], "g": [0, 3], "ornelas1": 0, "pengfei": 0, "wang2": 0, "scott": 0, "j": 0, "brandenberg1": 0, "jonathan": 0, "p": 0, "stewart1": 0, "1": [0, 1, 3, 4, 5, 6, 7], "univers": 0, "california": 0, "lo": 0, "angel": 0, "ucla": [0, 3], "2": [0, 1, 3, 7], "old": 0, "dominion": 0, "tabl": 0, "content": 0, "can": [0, 4, 5, 6, 7], "from": [0, 1, 3, 5, 6, 7], "record": [0, 3], "microtremor": [0, 1, 5, 7], "earthquak": [0, 1, 5, 7], "3": [0, 3], "compon": [0, 4, 5, 7], "seismomet": 0, "thi": [0, 4, 5, 6, 7], "wa": [0, 6], "develop": 0, "ornela": [0, 3], "under": 0, "supervis": 0, "dr": 0, "stewart": 0, "brandenberg": 0, "other": 0, "contribut": 0, "came": 0, "wang": 0, "professor": 0, "who": 0, "wrote": 0, "hvsrproc": [0, 3], "rstudio": 0, "packag": [0, 3], "which": [0, 1, 3, 4, 6, 7], "base": [0, 1, 7], "That": 0, "work": 0, "found": 0, "here": 0, "wltcwpf": 0, "first": [0, 7], "releas": 0, "version": 0, "v1": 0, "0": [0, 1, 3, 4, 6, 7], "zenodo": 0, "http": [0, 3], "doi": 0, "org": [0, 3], "10": [0, 3], "5281": 0, "4724141": 0, "deriv": 0, "fourier": [0, 4, 6, 7], "amplitud": [0, 1, 4, 5, 6, 7], "spectrum": [0, 7], "done": [0, 3, 7], "ground": 0, "vibrat": 0, "either": [0, 4], "temporarili": 0, "deploi": 0, "perman": 0, "rel": 0, "short": [0, 1, 7], "period": 0, "hr": 0, "longer": 0, "method": [0, 1], "techniqu": 0, "propos": 0, "nogoshi": 0, "igarashi": 0, "1971": 0, "abstract": 0, "later": 0, "popular": 0, "nakamura": 0, "1989": 0, "The": [0, 1, 4, 5, 6, 7], "assum": 0, "wavefield": 0, "amplifi": 0, "seismic": 0, "wave": 0, "propag": 0, "through": 0, "soil": 0, "deposit": 0, "compar": 0, "us": [0, 3, 4, 5, 6, 7], "site": [0, 3, 7], "character": 0, "sinc": 0, "identifi": 0, "reson": 0, "frequenc": [0, 1, 3, 6, 7], "peak": 0, "an": [0, 1, 5, 6, 7], "studi": 0, "have": 0, "also": 0, "lowest": 0, "spectra": [0, 4, 6], "associ": 0, "fundament": 0, "e": 0, "avail": 0, "pip": [0, 3], "jupyt": 0, "notebook": 0, "pypi": [0, 3], "py": 0, "m": 0, "relat": 0, "contain": [0, 1, 3, 4, 5, 6, 7], "variou": 0, "featur": 0, "domain": [0, 3], "rotat": 0, "see": [0, 3], "variabl": 0, "differ": 0, "distibut": 0, "normal": [0, 1, 3, 7], "log": 0, "function": [0, 1, 3, 4, 5, 6, 7], "type": [0, 3, 5, 7], "combin": [0, 3, 4, 7], "geometr": [0, 7], "squar": [0, 7], "averag": [0, 1, 7], "rotd50": 0, "output": [0, 3, 4, 7], "ts": [0, 1, 4, 7], "folder": [0, 3], "github": 0, "repositori": 0, "git": 0, "If": 0, "you": [0, 3], "directli": 0, "depend": 0, "anoth": 0, "result": [0, 1, 3], "academ": 0, "public": 0, "instanc": 0, "we": 0, "would": 0, "appreci": 0, "cite": 0, "follow": 0, "f": [0, 4], "s": [0, 3], "2024": [0, 3], "fjornela": 0, "v0": 0, "11556202": 0, "pleas": [0, 3, 7], "report": 0, "ani": 0, "leav": 0, "comment": [0, 3], "page": 0, "project": 0, "ha": 0, "been": 0, "more": [0, 4], "inform": 0, "about": 0, "like": 0, "thank": 0, "mani": 0, "aid": 0, "ar": [0, 3, 4, 5, 6, 7], "john": 0, "stapleton": 0, "chukwuma": 0, "okonkwo": 0, "chukwuebuka": 0, "c": [0, 3], "nweke": 0, "tristan": 0, "buckrei": 0, "christoph": 0, "de": 0, "la": 0, "torr": 0, "support": 0, "help": [0, 3], "multipl": 1, "seri": [1, 3, 4, 5, 6, 7], "appli": [1, 4, 7], "detrend": [1, 7], "kwarg": [1, 5, 7], "specifi": [1, 3, 4, 5, 6, 7], "paramet": [1, 4, 5, 6, 7], "ndarrai": [1, 4, 6, 7], "input": [1, 3, 7], "detrend_typ": [1, 3, 7], "int": [1, 4, 5, 6, 7], "No": [1, 3, 7], "weight": 1, "mean": [1, 3, 6, 7], "default": [1, 4, 5, 6, 7], "linear": [1, 7], "6": [1, 3, 7], "5th": [1, 7], "degre": [1, 3], "polynomi": [1, 7], "t_front": [1, 7], "percentag": [1, 7], "data": [1, 3, 6, 7], "taper": [1, 7], "begin": [1, 5], "tukei": [1, 3], "window": [1, 3, 4, 7], "5": [1, 3, 4, 6, 7], "t_end": [1, 7], "end": [1, 5, 7], "return": [1, 4, 5, 6, 7], "arrai": [1, 3, 4, 5, 6, 7], "given": 1, "sym": 1, "boolean": [1, 4, 5, 6, 7], "gener": 1, "symmetr": 1, "calcul": 1, "filter": [1, 3, 7], "repres": [1, 5, 7], "ts_dt": 1, "float": [1, 4, 7], "step": [1, 4, 7], "fc": [1, 4], "npole": 1, "valu": [1, 4, 7], "low": [1, 7], "pass": [1, 3, 7], "high": [1, 3, 7], "less": [1, 7], "than": [1, 7], "is_caus": [1, 7], "indic": [1, 5, 6, 7], "whether": [1, 4, 5, 6, 7], "causal": [1, 7], "acaus": [1, 7], "order_zero_pad": [1, 7], "what": [1, 3, 7], "order": [1, 4, 7], "zero": [1, 7], "pad": [1, 7], "after": 1, "re": 1, "dict": 1, "dictionari": [1, 4], "comput": [1, 4, 6, 7], "fft": [1, 4], "flt_t": 1, "flt_amp": 1, "fa": [1, 4, 6, 7], "flt_resp": 1, "respons": [1, 3], "flt_fft": 1, "imaginari": 1, "sta": [1, 7], "lta": [1, 7], "short_term": 1, "term": [1, 7], "length": [1, 7], "long_term": 1, "long": [1, 7], "moving_term": 1, "move": [1, 7], "split": 1, "individu": [1, 7], "discret": [1, 7], "dt": [1, 3, 4, 7], "win_width": [1, 3, 7], "overlap": [1, 3, 7], "each": [1, 5, 7], "between": [1, 7], "exampl": 3, "usag": 3, "By": 3, "jornela1": 3, "edu": 3, "origin": 3, "creat": 3, "apr": 3, "28": 3, "instal": 3, "i": 3, "test": 3, "simpl": 3, "import": 3, "hv": 3, "modulenotfounderror": 3, "traceback": 3, "most": 3, "recent": 3, "call": 3, "last": 3, "cell": 3, "In": 3, "line": 3, "modul": 3, "name": [3, 5], "print": 3, "statement": 3, "within": [3, 7], "hvsrfunctool": 3, "hvsr": [3, 4], "time": [3, 4, 5, 6, 7], "directori": [3, 5, 7], "where": [3, 5, 7], "txt": [3, 5], "mseed": [3, 5], "file": [3, 4, 5, 6, 7], "store": [3, 5], "direc": 3, "r": 3, "user": [3, 7], "onedr": 3, "document": 3, "hvsrdata_main": 3, "mhvsr": 3, "inv": 3, "vspdb": 3, "ca": 3, "hvsrdata": 3, "250": 3, "text_file_data": 3, "raw_ascii_peg_hh": 3, "filenam": [3, 6], "h1": [3, 4, 5, 7], "20220907170054_nx_usc6_hhn": 3, "h2": [3, 4, 5, 7], "20220907170058_nx_usc6_hh": 3, "v": [3, 5, 7], "20220907170100_nx_usc6_hhz": 3, "want": [3, 7], "output_dir": [3, 7], "_hvhelper": 3, "process_time_seri": 3, "h1_fn": [3, 5], "h2_fn": [3, 5], "v_fn": [3, 5], "file_typ": [3, 5], "time_cut": [3, 5], "120": 3, "main": 3, "hv_proc": 3, "win_result": 3, "fd_select": 3, "time_t": [3, 7], "300": [3, 5], "plot_t": 3, "true": [3, 4, 6, 7], "plot_hvsr": 3, "output_polar_curv": 3, "fals": [3, 4, 5, 6, 7], "norm_flag": [3, 7], "pre": [3, 7], "nois": 3, "enter": 3, "index": 3, "remov": [3, 7], "press": 3, "q": 3, "quit": 3, "select": [3, 6, 7], "prepar": 3, "wait": 3, "curv": [3, 6, 7], "everyth": 3, "check": 3, "out": 3, "cpu": 3, "total": 3, "12": 3, "wall": 3, "1min": 3, "15": 3, "plot": 3, "polar": [3, 6, 7], "pymysql": 3, "json": 3, "os": 3, "panda": 3, "pd": 3, "read_csv": 3, "path": [3, 6], "join": 3, "test_hvsr_polar": 3, "csv": [3, 5, 6, 7], "standard_freq": [3, 6], "load": 3, "open": 3, "model": 3, "gmdb": 3, "osaka": 3, "mean_curv": 3, "hvsr_vspdb_standard_frequ": 3, "increment": [3, 7], "deg_incr": [3, 7], "azimuth": [3, 6, 7], "list": [3, 7], "rang": [3, 6], "180": 3, "processed_pol_data": 3, "hvsrplot": 3, "process_polar_curv": 3, "polar_data": [3, 6], "fig": 3, "plot_polar_ratio": 3, "savefig": 3, "png": 3, "dpi": 3, "500": 3, "mean_df": 3, "test_hvsr_mean": 3, "metadata": [3, 6, 7], "metadata_csv_filepath": 3, "test_metadata": 3, "plot_mean_hvsr": 3, "csv_file_path": [3, 6], "metadata_csv_path": [3, 6], "xlim_m": [3, 6], "65": [3, 6], "ylim_m": [3, 6], "xlim": [3, 6], "50": [3, 6], "ylim": [3, 6], "4": [3, 6], "robust_est": [3, 6], "metadata_flag": [3, 6], "unselect": [3, 7], "ts_df": 3, "test_ts_sel": 3, "plot_selected_time_seri": 3, "locat": 3, "sel_curve_dir": 3, "test_hvsr_sel": 3, "plot_selected_hvsr": 3, "8": [3, 6], "csv_path": [3, 6], "test_fas_mean": 3, "plot_fa": 3, "01": [3, 6], "10e3": 3, "10e7": 3, "tool": 3, "station": 3, "xml": 3, "multi": 3, "static": 3, "field_crew": 3, "none": [3, 7], "weather": 3, "ground_typ": 3, "sensor_ground_coupl": 3, "monochromat": 3, "build": 3, "transient": 3, "data_typ": 3, "sensor_corner_frequ": 3, "0083": [3, 7], "gain": 3, "run": 3, "df": 3, "hvsrmetatool": 3, "process_hvsr_metadata": 3, "save": 3, "datafram": [3, 6], "need": 3, "to_csv": 3, "gmdb_query_metadata": 3, "header": 3, "visual": 3, "longitud": 3, "latitud": 3, "elev": 3, "start_dat": 3, "end_dat": 3, "start_tim": 3, "end_tim": 3, "seismic_record": 3, "mass_position_w": 3, "mass_position_v": 3, "mass_position_u": 3, "mag_dec": 3, "118": 3, "178297": 3, "34": 3, "037050": 3, "83": 3, "7": 3, "05": 3, "30": [3, 7], "18": 3, "43": 3, "35": 3, "00000": 3, "pegasu": 3, "portabl": 3, "digit": 3, "pg": 3, "140": 3, "175745": 3, "036540": 3, "17": 3, "13": 3, "26": 3, "176393": 3, "038562": 3, "94": 3, "20": 3, "04": 3, "07": 3, "178783": 3, "034881": 3, "78": 3, "54": 3, "42": 3, "16": 3, "180522": 3, "036645": 3, "104": 3, "22": 3, "44": 3, "36": 3, "177850": 3, "037202": 3, "86": 3, "49": 3, "51": 3, "177863": 3, "036742": 3, "89": 3, "14": 3, "19": 3, "27": 3, "178158": 3, "037463": 3, "92": 3, "177868": 3, "041472": 3, "45": 3, "02": 3, "9": 3, "183667": 3, "036168": 3, "103": 3, "06": 3, "21": 3, "32": 3, "180107": 3, "032753": 3, "75": 3, "52": 3, "25": 3, "11": 3, "172808": 3, "037084": 3, "100": 3, "29": 3, "57": 3, "00": 3, "33": 3, "row": 3, "31": 3, "column": 3, "all": 3, "folder_path": 3, "uniqu": 3, "set": [3, 4, 5, 6, 7], "thats": 3, "add_sim_path": 3, "raw_mseed_peg_hh": 3, "combined_metadata": 3, "combine_metadata": 3, "sampl": 3, "freq": [3, 4, 6], "hz": 3, "durat": 3, "min": 3, "pre_proc_appli": 3, "weighted_mean_remov": 3, "pre_proc_high_pass_filter_typ": 3, "pre_proc_high_pass_corner_frequ": 3, "pre_proc_taper_typ": 3, "pre_proc_taper_width_perc": 3, "number": [3, 4], "corner": 3, "smooth": [3, 4, 7], "constant": 3, "distribut": 3, "processing_com": 3, "200": 3, "69": 3, "5918": 3, "butterworth": 3, "042": 3, "konnoohmachi": 3, "nan": 3, "55": 3, "9685": 3, "40": [3, 4, 7], "8580": 3, "9887": 3, "56": 3, "3427": 3, "0213": 3, "58": 3, "4673": 3, "5172": 3, "7752": 3, "0643": 3, "6710": 3, "5717": 3, "fast": 4, "transform": 4, "definit": [4, 5, 6, 7], "below": [4, 5, 6, 7], "h1_sub": 4, "h2_sub": 4, "horizontal_comb": [4, 7], "geometric_mean": [4, 7], "string": [4, 5, 6, 7], "konno": [4, 7], "ohmachi": [4, 7], "b": 4, "resampl": [4, 7], "ko": 4, "parzen": [4, 7], "ko_smooth_flag": [4, 7], "parzen_flag": [4, 7], "ko_smooth_b": [4, 7], "parzen_bwidth": [4, 7], "smaller": 4, "larger": 4, "005": 4, "max_ord": 4, "point": 4, "amp": 4, "phase": 4, "format": [5, 6], "file_direc": 5, "trim_flag": 5, "trim": 5, "trace": 5, "how": 5, "much": 5, "cut": 5, "second": [5, 7], "integ": [5, 7], "specif": 6, "updat": 6, "result_data": 6, "read": 6, "x": 6, "axi": 6, "limit": 6, "text": 6, "adjac": 6, "y": 6, "show": 6, "10e2": 6, "10e8": 6, "includ": 7, "analysi": 7, "raw": 7, "mean_remov": 7, "taper_flag": 7, "start": 7, "pre_filter_flag": 7, "pre_filter_t_front": 7, "pre_filter_t_end": 7, "pre_filter_hpass_fc": 7, "pre_filter_npole_hp": 7, "pre_filter_is_caus": 7, "pre_filter_order_zero_pad": 7, "pre_filter_lpass_fc": 7, "pre_filter_npole_lp": 7, "greater": 7, "is_nois": 7, "being": 7, "size": 7, "partit": 7, "amount": 7, "sta_lta_flag": 7, "short_term_len": 7, "long_term_len": 7, "sta_lta_moving_term": 7, "filter_flag": 7, "hpass_fc": 7, "npole_hp": 7, "lpass_fc": 7, "npole_lp": 7, "eqk_filepath": 7, "extract": 7, "prior": 7, "h1_win": 7, "h2_win": 7, "v_win": 7, "freq_hv_mean": 7, "freq_polar": 7, "bandwidth": 7, "ps_rotd50": 7, "There": 7, "three": 7, "median": 7, "two": 7, "squared_averag": 7, "polar_curves_flag": 7, "hsvr": 7, "refer": 7}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"introduct": 0, "background": 0, "get": 0, "start": 0, "instal": 0, "usag": 0, "exampl": 0, "manual": 0, "window": 0, "select": 0, "time": [0, 1], "seri": 0, "hvsr": [0, 5, 6, 7], "azimuth": 0, "plot": [0, 6], "mean": 0, "curv": 0, "metadata": 0, "comparison": 0, "konno": 0, "ohmachi": 0, "left": 0, "parzen": 0, "smooth": 0, "right": 0, "fa": 0, "citat": 0, "issu": 0, "licens": 0, "acknowledg": 0, "tdt": 1, "domain": [1, 4], "process": [1, 7], "tool": [1, 4, 5, 6, 7], "detrend_t": 1, "tukey_window": 1, "apply_filt": 1, "apply_norm": 1, "sta_lta_calc": 1, "split_into_window": 1, "fdt": 4, "frequenc": 4, "compute_horizontal_combin": 4, "smoothed_fas_ko": 4, "smooth_fa": 4, "fas_cal": 4, "hvhelp": 5, "helper": 5, "proc_mseed_data": 5, "proc_txt_data": 5, "process_time_seri": 5, "hvplt": 6, "process_polar_curv": 6, "plot_polar_ratio": 6, "plot_mean_hvsr": 6, "plot_selected_time_seri": 6, "plot_selected_hvsr": 6, "plot_fa": 6, "hvt": 7, "process_noise_data": 7, "hvsr_and_fas_calc": 7}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx": 56}})